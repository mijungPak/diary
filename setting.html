<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="container-xl">
        <!-- nav -->
        <ul class="nav nav-tabs">
            <li class="nav-item">
              <div class="schedulebar"></div>
              <a class="nav-link schedule" href="../schedule/calender.html">Calendar</a>
            </li>
            <li class="nav-item">
                <div class="memobar"></div>
                <a class="nav-link memo" href="../memo/memo.html">Memo</a>
            </li>
            <li class="nav-item">
                <div class="albumbar"></div>
                <a class="nav-link album" href="../album/album.html">Album</a>
            </li>
            <li class="nav-item">
                <div class="printbar"></div>
                <a class="nav-link print" href="../prints/print.html">Print</a>
            </li>
            <li class="nav-item">
                <div class="settingbar"></div>
                <a class="nav-link setting" href="../setting.html"><small class="text-black-50">Setting</small></a>
            </li>
          </ul>
        <!-- /.nav -->
    
        <div class="row">
            <div class="top col-12 py-2">

                <div class="accordion" id="accordionExample">

                    <div class="card">
                        <div class="card-header" id="familySetting">
                            <h5 class="mb-0">
                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <i class="bi bi-person-plus-fill mr-2"></i>家族登録
                            </button>
                            </h5>
                        </div>
                        <div id="collapseOne" class="collapse show" aria-labelledby="familySetting" data-parent="#accordionExample">
                            <div class="card-body">
                                <form action="">
                                    <div>
                                        <input type="text" name="familyCategory[0]" value="ひろこ" readonly class="mb-2">
                                        <select>
                                            <option>purple</option>
                                            <option>blue</option>
                                            <option>orange</option>
                                            <option>red</option>
                                        </select>    
                                    </div>
                                    <div>
                                        <input type="button" value="１行追加" id="addMemberLine" class="btn btn-sm btn-outline-primary">
                                        <input type="submit" value="登録" class="btn btn-info">
                                    </div>
                                </form>
                
                            </div>
                        </div>
                
                        <div class="card-header" id="albumSetting">
                            <h5 class="mb-0">
                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                <i class="bi bi-folder-plus mr-2"></i>アルバム追加
                            </button>
                            </h5>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="albumSetting" data-parent="#accordionExample">
                            <div class="card-body">

                                <form action="">
                                    <div >
                                        <input type="text" name="albumCategory[0]" value="運動会" readonly class="mb-2">
                                    </div>
                                    <div>
                                        <input type="button" value="１行追加" id="addAlbumCategoryLine" class="btn btn-sm btn-outline-primary">
                                        <input type="submit" value="登録" class="btn btn-info">
                                    </div>
                                </form>

                            </div>
                        </div>

                        <div class="card-header" id="printSetting">
                            <h5 class="mb-0">
                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                <i class="bi bi-diagram-3-fill mr-2"></i>カテゴリー追加（プリント）
                            </button>
                            </h5>
                        </div>
                        <div id="collapseThree" class="collapse" aria-labelledby="printSetting" data-parent="#accordionExample">
                            <div class="card-body">

                                <form action="">
                                    <div >
                                        <input type="text" name="printCategory[0]" value="幼稚園" readonly class="mb-2">
                                    </div>
                                    <div>
                                        <input type="button" value="１行追加" id="addCategoryLine" class="btn btn-sm btn-outline-primary">
                                        <input type="submit" value="登録" class="btn btn-info">
                                    </div>
                                </form>

                            </div>
                        </div>

                    </div>
                
                </div>
                

            </div>
        </div>
    </div>
</div>

<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/common.js"></script>
<script>
    //選択するメニュー
    chooseNav('.setting');

    function addLine(addButtonId, arrayName, index) {
        var div = document.createElement('div');
        div.innerHTML = "<input type='text' name='" + arrayName + "[" + (index++) + "]' class='my-2'>";

        var parent = document.getElementById(addButtonId).parentElement;
alert(parent.firstChild.innerHTML);    
        parent.before(div);

        return index;
    }

    var familyIndex = 1;
    $('#addMemberLine').on('click', function(e) {
        familyIndex = addLine("addMemberLine", "familyCategory", familyIndex);
    });
    var albumIndex = 1;
    $('#addAlbumCategoryLine').on('click', function(e) {
        albumIndex = addLine("addAlbumCategoryLine", "albumCategory", albumIndex);
    });

    var printCategoryIndex = 1;
    $('#addCategoryLine').on('click', function(e) {
        printCategoryIndex = addLine("addCategoryLine", "printCategory", printCategoryIndex);
    });
</script>
</body>
</html>